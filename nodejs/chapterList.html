<!doctype html>
<html>
<head>
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
    <script src="../js/baiduTemplate.js"></script>
</head>
<body>

<article class="blogs">
    <h2 class="title_tj">
    <p>文章<span>推荐</span></p>
    </h2>
	<div class="newblog left">
        
          <!--分页开始-->
        <div class="page">
              
        </div>
        <!--分页结束-->
	</div>
</article>
<footer>
    <p class="ft-copyright">个人博客 Sunshine </p>
    <div id="tbox"> <a id="togbook" href=""></a> <a id="gotop" href="javascript:void(0)"></a></div>
</footer>
</body>

<script>
        var article = document.getElementsByClassName('newblog');
        fetch('http://localhost:8083/a/',{method:'GET'})
            .then(function (response) {
                return response.json();
            })
            .then(function (myJson) {
                console.log(myJson);
                var str = `<div class="oneblog">`;
                for(let i=0;i<myJson.length;i++){
                    str+=`<div class="oneblog">
            <h2><a title="${myJson[i].chapterName}" href="http://localhost:8083/detail?chapterId=${myJson[i].chapterId}">${myJson[i].chapterName}</a></h2>
            <figure><img src='${myJson[i].imgPath}' border='0' width='120' height='120' alt='${myJson[i].chapterName}'></figure>
            <ul class="nlist">
                <p>${myJson[i].chapterDes}</p>
                <a title="${myJson[i].chapterName}" href="http://localhost:8083/detail?chapterId=${myJson[i].chapterId}" target="_blank" class="readmore">阅读全文>></a>
            </ul>
            <p class="dateview">
                <span>${myJson[i].publishTimer}</span>
                <span>作者：${myJson[i].author}</span>
                <span>分类：[<a href="/">悠客</a>]</span>
                <span class="nl">浏览（101)</span>
                <span class="n2">评论（<a href="/">0</a>）</span>
                <div class="line"></div>
            </p>
        </div>`
                }
                str+=`</div>`;
                console.log(str);
                console.log(article);
                article[0].innerHTML+=str;
            });
</script>
</html>